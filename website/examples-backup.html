<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playground - TONL Live Converter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tonl@1.0.5/dist/browser/tonl.iife.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@500&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; }
        code, pre, textarea { font-family: 'JetBrains Mono', monospace; }

        /* Loading animation */
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .loading { animation: spin 1s linear infinite; }

        /* Pulse animation for stats */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        .stat-pulse { animation: pulse 2s ease-in-out infinite; }

        /* Smooth transitions */
        button { transition: all 0.2s ease; }
        button:active { transform: scale(0.95); }

        /* Success feedback */
        @keyframes successPop {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .success-pop { animation: successPop 0.3s ease; }
    </style>
</head>
<body class="bg-slate-50">

    <!-- Navigation -->
    <nav class="border-b border-slate-200 bg-white sticky top-0 z-50">
        <div class="max-w-[1800px] mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <a href="index.html" class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-slate-900 rounded-lg flex items-center justify-center">
                        <span class="text-2xl font-bold text-white">T</span>
                    </div>
                    <span class="text-2xl font-bold text-slate-900">TONL</span>
                </a>

                <div class="flex items-center gap-8">
                    <a href="index.html#features" class="text-slate-600 hover:text-slate-900 font-medium">Features</a>
                    <a href="docs.html" class="text-slate-600 hover:text-slate-900 font-medium">Docs</a>
                    <a href="examples.html" class="text-slate-900 font-semibold">Playground</a>
                    <a href="https://github.com/ersinkoc/tonl" target="_blank" class="text-slate-600 hover:text-slate-900 font-medium">GitHub</a>
                </div>
            </div>
        </div>
    </nav>

    <div class="max-w-[1800px] mx-auto px-6 py-12" x-data="playground()">

        <!-- Header with Live Stats -->
        <div class="mb-10">
            <h1 class="text-5xl font-bold text-slate-900 mb-4">Live Playground</h1>
            <p class="text-2xl text-slate-600 mb-8">Convert JSON to TONL and see real token savings in action</p>

            <!-- Real-Time Stats -->
            <div class="grid grid-cols-2 md:grid-cols-5 gap-4">
                <div class="bg-white border border-slate-200 rounded-xl p-5 hover:shadow-md transition">
                    <div class="text-sm text-slate-600 mb-1">JSON Tokens</div>
                    <div class="text-3xl font-bold text-slate-900" x-text="jsonTokens"></div>
                </div>
                <div class="bg-white border border-emerald-200 rounded-xl p-5 hover:shadow-md transition">
                    <div class="text-sm text-slate-600 mb-1">TONL Tokens</div>
                    <div class="text-3xl font-bold text-emerald-600" x-text="tonlTokens"></div>
                </div>
                <div class="bg-emerald-50 border-2 border-emerald-500 rounded-xl p-5 hover:shadow-lg transition stat-pulse">
                    <div class="text-sm text-emerald-700 font-semibold mb-1">Token Savings</div>
                    <div class="text-3xl font-bold text-emerald-600" x-text="savings.tokens + '%'"></div>
                </div>
                <div class="bg-white border border-slate-200 rounded-xl p-5 hover:shadow-md transition">
                    <div class="text-sm text-slate-600 mb-1">Bytes Saved</div>
                    <div class="text-3xl font-bold text-slate-900" x-text="(jsonBytes - tonlBytes)"></div>
                </div>
                <div class="bg-white border border-slate-200 rounded-xl p-5 hover:shadow-md transition">
                    <div class="text-sm text-slate-600 mb-1">Est. $ Saved</div>
                    <div class="text-3xl font-bold text-green-600" x-text="'$' + ((jsonTokens - tonlTokens) * 0.00002).toFixed(4)"></div>
                </div>
            </div>
        </div>

        <!-- Example Templates - Rich Collection -->
        <div class="mb-8">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-xl font-bold text-slate-900">Try These Examples:</h3>
                <button @click="clearAll()" class="text-sm text-slate-600 hover:text-slate-900 font-medium underline">Clear</button>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3">
                <button @click="loadExample('users')" class="px-4 py-3 bg-white border-2 border-slate-300 rounded-lg hover:border-emerald-500 hover:shadow-lg hover:scale-105 active:scale-95 transition text-sm font-medium">
                    üë• User Database (40 lines)
                </button>
                <button @click="loadExample('ecommerce')" class="px-4 py-3 bg-white border-2 border-slate-300 rounded-lg hover:border-emerald-500 hover:shadow-lg hover:scale-105 active:scale-95 transition text-sm font-medium">
                    üõçÔ∏è E-commerce (50 lines)
                </button>
                <button @click="loadExample('api')" class="px-4 py-3 bg-white border-2 border-slate-300 rounded-lg hover:border-emerald-500 hover:shadow-lg hover:scale-105 active:scale-95 transition text-sm font-medium">
                    üåê API Response (35 lines)
                </button>
                <button @click="loadExample('config')" class="px-4 py-3 bg-white border-2 border-slate-300 rounded-lg hover:border-emerald-500 hover:shadow-md transition text-sm font-medium">
                    ‚öôÔ∏è App Config (45 lines)
                </button>
                <button @click="loadExample('logs')" class="px-4 py-3 bg-white border-2 border-slate-300 rounded-lg hover:border-emerald-500 hover:shadow-md transition text-sm font-medium">
                    üìã Log Entries (30 lines)
                </button>
                <button @click="loadExample('analytics')" class="px-4 py-3 bg-white border-2 border-slate-300 rounded-lg hover:border-emerald-500 hover:shadow-md transition text-sm font-medium">
                    üìä Analytics (40 lines)
                </button>
                <button @click="loadExample('timeseries')" class="px-4 py-3 bg-white border-2 border-slate-300 rounded-lg hover:border-emerald-500 hover:shadow-md transition text-sm font-medium">
                    üìà Time Series (25 lines)
                </button>
                <button @click="loadExample('catalog')" class="px-4 py-3 bg-white border-2 border-slate-300 rounded-lg hover:border-emerald-500 hover:shadow-md transition text-sm font-medium">
                    üìö Product Catalog (55 lines)
                </button>
                <button @click="loadExample('social')" class="px-4 py-3 bg-white border-2 border-slate-300 rounded-lg hover:border-emerald-500 hover:shadow-md transition text-sm font-medium">
                    üí¨ Social Feed (30 lines)
                </button>
                <button @click="loadExample('nested')" class="px-4 py-3 bg-white border-2 border-slate-300 rounded-lg hover:border-emerald-500 hover:shadow-md transition text-sm font-medium">
                    üîó Deep Nesting (45 lines)
                </button>
                <button @click="loadExample('small')" class="px-4 py-3 bg-slate-100 border-2 border-slate-300 rounded-lg hover:border-slate-400 transition text-sm font-medium">
                    üìù Simple (5 lines)
                </button>
                <button @click="loadExample('large')" class="px-4 py-3 bg-gradient-to-r from-emerald-500 to-teal-500 text-white border-2 border-emerald-600 rounded-lg hover:shadow-xl transition text-sm font-bold">
                    üî• Large Dataset (80+ lines)
                </button>
            </div>
        </div>

        <!-- Main Playground -->
        <div class="grid lg:grid-cols-2 gap-6">

            <!-- JSON Input -->
            <div class="bg-white border-2 border-slate-300 rounded-2xl overflow-hidden shadow-lg">
                <div class="bg-slate-100 border-b-2 border-slate-300 px-6 py-4 flex items-center justify-between">
                    <div>
                        <h3 class="font-bold text-slate-900 text-lg">JSON Input</h3>
                        <p class="text-sm text-slate-600 mt-0.5">Paste or select example data</p>
                    </div>
                    <div class="flex gap-2">
                        <button @click="formatJSON()" class="px-4 py-2 text-sm bg-white border border-slate-300 hover:bg-slate-50 rounded-lg font-medium transition">
                            Format JSON
                        </button>
                        <button @click="jsonToTONL()" class="px-5 py-2 text-sm bg-slate-900 text-white rounded-lg font-semibold hover:bg-slate-800 transition shadow-md">
                            Convert to TONL ‚Üí
                        </button>
                    </div>
                </div>

                <textarea
                    x-model="jsonInput"
                    @input="updateStats()"
                    class="w-full h-[700px] bg-slate-900 text-slate-300 p-6 text-sm border-none focus:outline-none resize-none"
                    placeholder="Paste your JSON here, or select an example above..."
                ></textarea>

                <div class="bg-slate-100 border-t-2 border-slate-300 px-6 py-3 flex items-center justify-between text-sm">
                    <div class="flex gap-6 text-slate-600">
                        <span>üì¶ <span class="font-semibold" x-text="jsonBytes"></span> bytes</span>
                        <span>üéØ <span class="font-semibold" x-text="jsonTokens"></span> tokens</span>
                        <span>üìÑ <span class="font-semibold" x-text="jsonInput.split('\\n').length"></span> lines</span>
                    </div>
                </div>
            </div>

            <!-- TONL Output -->
            <div class="bg-white border-2 border-emerald-500 rounded-2xl overflow-hidden shadow-xl shadow-emerald-500/10">
                <div class="bg-emerald-50 border-b-2 border-emerald-500 px-6 py-4 flex items-center justify-between">
                    <div>
                        <h3 class="font-bold text-slate-900 text-lg">TONL Output</h3>
                        <p class="text-sm text-emerald-700 mt-0.5 font-semibold">Automatically optimized format</p>
                    </div>
                    <div class="flex gap-2">
                        <button @click="tonlToJSON()" class="px-4 py-2 text-sm bg-white border border-emerald-300 hover:bg-emerald-50 rounded-lg font-medium transition">
                            ‚Üê Decode to JSON
                        </button>
                        <button @click="copyToClipboard(tonlOutput)" class="px-5 py-2 text-sm bg-emerald-600 text-white rounded-lg font-semibold hover:bg-emerald-700 transition shadow-md">
                            <span x-show="!copied">üìã Copy</span>
                            <span x-show="copied" class="text-white">‚úì Copied!</span>
                        </button>
                    </div>
                </div>

                <textarea
                    x-model="tonlOutput"
                    readonly
                    class="w-full h-[700px] bg-slate-900 text-slate-300 p-6 text-sm border-none focus:outline-none resize-none"
                    placeholder="TONL output will appear here after conversion..."
                ></textarea>

                <div class="bg-emerald-50 border-t-2 border-emerald-500 px-6 py-3 flex items-center justify-between text-sm">
                    <div class="flex gap-6 text-slate-700">
                        <span>üì¶ <span class="font-semibold text-emerald-600" x-text="tonlBytes"></span> bytes <span x-show="tonlBytes > 0" class="text-emerald-600 font-semibold" x-text="'(-' + savings.bytes + '%)'"></span></span>
                        <span>üéØ <span class="font-semibold text-emerald-600" x-text="tonlTokens"></span> tokens <span x-show="tonlTokens > 0" class="text-emerald-600 font-bold" x-text="'(-' + savings.tokens + '%)'"></span></span>
                        <span>üìÑ <span class="font-semibold text-emerald-600" x-text="tonlOutput.split('\\n').length"></span> lines</span>
                    </div>
                </div>
            </div>

        </div>

        <!-- Error Display -->
        <div x-show="error" class="mt-6 bg-red-50 border-2 border-red-300 rounded-xl p-6">
            <div class="flex items-start gap-3">
                <svg class="w-6 h-6 text-red-600 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path>
                </svg>
                <div>
                    <p class="text-red-900 font-bold mb-1">Conversion Error</p>
                    <p class="text-red-700 text-sm" x-text="error"></p>
                </div>
            </div>
        </div>

    </div>

    <script>
        function playground() {
            return {
                jsonInput: '',
                tonlOutput: '',
                jsonBytes: 0,
                tonlBytes: 0,
                jsonTokens: 0,
                tonlTokens: 0,
                savings: { bytes: 0, tokens: 0 },
                error: '',
                copied: false,

                init() {
                    this.loadExample('users');
                },

                jsonToTONL() {
                    try {
                        this.error = '';
                        const data = JSON.parse(this.jsonInput);
                        if (typeof TONL !== 'undefined' && TONL.encodeTONL) {
                            this.tonlOutput = TONL.encodeTONL(data);
                        } else {
                            this.tonlOutput = '#version 1.0\\n' + JSON.stringify(data, null, 2);
                        }
                        this.updateStats();
                    } catch (e) {
                        this.error = 'JSON Parse Error: ' + e.message;
                        this.tonlOutput = '';
                    }
                },

                tonlToJSON() {
                    try {
                        this.error = '';
                        if (typeof TONL !== 'undefined' && TONL.decodeTONL) {
                            const data = TONL.decodeTONL(this.tonlOutput);
                            this.jsonInput = JSON.stringify(data, null, 2);
                            this.updateStats();
                        }
                    } catch (e) {
                        this.error = 'TONL Decode Error: ' + e.message;
                    }
                },

                formatJSON() {
                    try {
                        const data = JSON.parse(this.jsonInput);
                        this.jsonInput = JSON.stringify(data, null, 2);
                        this.error = '';
                    } catch (e) {
                        this.error = 'Invalid JSON: ' + e.message;
                    }
                },

                updateStats() {
                    this.jsonBytes = new Blob([this.jsonInput]).size;
                    this.tonlBytes = new Blob([this.tonlOutput]).size;
                    // More accurate token estimation (avg 3.5 chars per token for GPT)
                    this.jsonTokens = Math.ceil(this.jsonInput.length / 3.5);
                    this.tonlTokens = Math.ceil(this.tonlOutput.length / 3.5);

                    if (this.jsonBytes > 0 && this.tonlBytes > 0) {
                        this.savings.bytes = Math.max(0, Math.round(((this.jsonBytes - this.tonlBytes) / this.jsonBytes) * 100));
                        this.savings.tokens = Math.max(0, Math.round(((this.jsonTokens - this.tonlTokens) / this.jsonTokens) * 100));
                    } else {
                        this.savings = { bytes: 0, tokens: 0 };
                    }
                },

                copyToClipboard(text) {
                    navigator.clipboard.writeText(text);
                    this.copied = true;
                    setTimeout(() => this.copied = false, 2000);
                },

                clearAll() {
                    this.jsonInput = '';
                    this.tonlOutput = '';
                    this.error = '';
                    this.updateStats();
                },

                loadExample(type) {
                    const examples = {
                        small: `{
  "name": "Alice Smith",
  "age": 30,
  "email": "alice@example.com",
  "active": true
}`,
                        users: `{
  "users": [
    {
      "id": 1001,
      "username": "alice_smith",
      "email": "alice@company.com",
      "firstName": "Alice",
      "lastName": "Smith",
      "age": 30,
      "role": "admin",
      "department": "Engineering",
      "verified": true,
      "lastLogin": "2025-11-04T10:30:00Z",
      "permissions": ["read", "write", "delete", "admin"],
      "metadata": {
        "created": "2024-01-15",
        "lastModified": "2025-11-01",
        "loginCount": 547
      }
    },
    {
      "id": 1002,
      "username": "bob_jones",
      "email": "bob@company.com",
      "firstName": "Bob",
      "lastName": "Jones",
      "age": 25,
      "role": "developer",
      "department": "Engineering",
      "verified": true,
      "lastLogin": "2025-11-04T09:15:00Z",
      "permissions": ["read", "write"],
      "metadata": {
        "created": "2024-03-20",
        "lastModified": "2025-10-30",
        "loginCount": 423
      }
    },
    {
      "id": 1003,
      "username": "carol_white",
      "email": "carol@company.com",
      "firstName": "Carol",
      "lastName": "White",
      "age": 35,
      "role": "manager",
      "department": "Product",
      "verified": true,
      "lastLogin": "2025-11-03T16:45:00Z",
      "permissions": ["read", "write", "approve"],
      "metadata": {
        "created": "2023-11-10",
        "lastModified": "2025-11-02",
        "loginCount": 892
      }
    }
  ]
}`,
                        ecommerce: `{
  "store": {
    "name": "TechMart Premium Store",
    "currency": "USD",
    "categories": ["Electronics", "Accessories", "Computers", "Gaming"]
  },
  "products": [
    {
      "sku": "LAPTOP-PRO-15-2025",
      "name": "Professional Laptop 15 inch Ultra",
      "description": "High-performance laptop with 16GB RAM, 512GB SSD, Intel i7 processor",
      "price": 1299.99,
      "comparePrice": 1599.99,
      "stock": 15,
      "category": "Computers",
      "rating": 4.8,
      "reviews": 234,
      "tags": ["bestseller", "premium", "business", "portable"],
      "specs": {
        "processor": "Intel Core i7 11th Gen",
        "ram": "16GB DDR4 3200MHz",
        "storage": "512GB NVMe PCIe 4.0 SSD",
        "screen": "15.6 inch FHD IPS",
        "graphics": "Intel Iris Xe",
        "weight": "1.8 kg",
        "battery": "Up to 12 hours",
        "ports": "2x USB-C, 2x USB-A, HDMI, Audio"
      },
      "inStock": true,
      "featured": true
    },
    {
      "sku": "MOUSE-WIRELESS-PRO",
      "name": "Wireless Ergonomic Mouse Pro",
      "description": "Premium wireless mouse with 6 programmable buttons and precision tracking",
      "price": 29.99,
      "comparePrice": 39.99,
      "stock": 150,
      "category": "Accessories",
      "rating": 4.5,
      "reviews": 567,
      "tags": ["ergonomic", "wireless", "bestseller", "gaming"],
      "specs": {
        "dpi": "3200 adjustable",
        "connectivity": "USB Receiver + Bluetooth 5.0",
        "battery": "Rechargeable Li-ion",
        "buttons": 6,
        "color": "Black"
      },
      "inStock": true,
      "featured": false
    },
    {
      "sku": "KB-MECHANICAL-RGB-FULL",
      "name": "Mechanical RGB Keyboard Full Size",
      "description": "Gaming mechanical keyboard with RGB per-key backlight and Cherry MX switches",
      "price": 89.99,
      "comparePrice": 119.99,
      "stock": 45,
      "category": "Accessories",
      "rating": 4.7,
      "reviews": 892,
      "tags": ["gaming", "rgb", "mechanical", "premium"],
      "specs": {
        "switchType": "Cherry MX Blue",
        "connectivity": "USB-C detachable",
        "backlight": "RGB per-key customizable",
        "layout": "Full size 104 keys",
        "features": "Anti-ghosting, N-key rollover"
      },
      "inStock": true,
      "featured": true
    }
  ]
}`,
                        api: `{
  "status": "success",
  "timestamp": 1699456789123,
  "requestId": "req_abc123xyz789def456",
  "apiVersion": "v2.1",
  "data": {
    "total": 1247,
    "page": 1,
    "pageSize": 25,
    "hasMore": true,
    "filters": {
      "category": "technology",
      "dateFrom": "2025-10-01",
      "dateTo": "2025-11-04"
    },
    "results": [
      {
        "id": "article_12345",
        "title": "Introduction to Modern Serialization Formats",
        "slug": "modern-serialization-formats",
        "author": {
          "id": "author_789",
          "name": "Alice Smith",
          "username": "alice_tech",
          "verified": true,
          "followers": 15234
        },
        "content": "In this comprehensive guide, we'll explore modern approaches to data serialization...",
        "excerpt": "Explore modern serialization formats and their benefits for LLM applications",
        "tags": ["tutorial", "serialization", "llm", "data-formats"],
        "published": "2025-10-15T10:00:00Z",
        "updated": "2025-10-20T14:30:00Z",
        "views": 15234,
        "likes": 892,
        "comments": 45,
        "bookmarks": 234,
        "shares": 67,
        "readingTime": 8,
        "featured": true
      },
      {
        "id": "article_12346",
        "title": "Advanced Query Patterns for Data Access",
        "slug": "advanced-query-patterns",
        "author": {
          "id": "author_456",
          "name": "Bob Johnson",
          "username": "bob_dev",
          "verified": true,
          "followers": 8934
        },
        "content": "Learn how to leverage powerful query APIs for efficient data access...",
        "excerpt": "Master advanced querying techniques with JSONPath-like syntax",
        "tags": ["advanced", "query", "tutorial", "api"],
        "published": "2025-10-20T14:30:00Z",
        "updated": "2025-10-25T09:15:00Z",
        "views": 8934,
        "likes": 456,
        "comments": 23,
        "bookmarks": 123,
        "shares": 34,
        "readingTime": 12,
        "featured": false
      }
    ]
  },
  "meta": {
    "processingTime": 45,
    "cacheHit": true,
    "dataCenter": "us-east-1",
    "version": "1.0.5"
  }
}`,
                        config: `{
  "application": {
    "name": "ProductionApp",
    "version": "2.5.3",
    "environment": "production",
    "debug": false,
    "port": 8080,
    "host": "0.0.0.0",
    "baseUrl": "https://api.example.com"
  },
  "database": {
    "primary": {
      "driver": "postgresql",
      "host": "db-primary.example.com",
      "port": 5432,
      "database": "myapp_prod",
      "username": "app_user",
      "password": "secure_password_here",
      "maxConnections": 100,
      "minConnections": 10,
      "connectionTimeout": 30000,
      "idleTimeout": 10000,
      "ssl": true,
      "sslMode": "require"
    },
    "replica": {
      "driver": "postgresql",
      "host": "db-replica.example.com",
      "port": 5432,
      "database": "myapp_prod",
      "username": "app_readonly",
      "password": "readonly_password",
      "maxConnections": 50,
      "ssl": true
    }
  },
  "cache": {
    "enabled": true,
    "provider": "redis",
    "connection": {
      "host": "cache.example.com",
      "port": 6379,
      "db": 0,
      "password": "cache_password",
      "ttl": 3600,
      "maxMemory": "2gb",
      "evictionPolicy": "allkeys-lru"
    },
    "keyPrefix": "myapp:"
  },
  "features": {
    "authentication": {
      "enabled": true,
      "providers": ["local", "oauth", "saml"],
      "sessionTimeout": 86400,
      "refreshTokenEnabled": true
    },
    "twoFactor": {
      "enabled": true,
      "methods": ["totp", "sms"],
      "required": false
    },
    "rateLimit": {
      "enabled": true,
      "maxRequests": 1000,
      "window": 60,
      "blockDuration": 300
    }
  },
  "logging": {
    "level": "info",
    "format": "json",
    "outputs": ["console", "file", "cloudwatch"],
    "file": {
      "path": "/var/log/app",
      "maxSize": "100mb",
      "maxFiles": 10,
      "compress": true
    }
  }
}`,
                        logs: `{
  "logs": [
    {
      "timestamp": "2025-11-04T10:15:30.123Z",
      "level": "info",
      "service": "api-gateway",
      "message": "Request processed successfully",
      "requestId": "req_abc123def456",
      "userId": "user_789",
      "endpoint": "/api/v1/users",
      "method": "GET",
      "statusCode": 200,
      "responseTime": 45,
      "ip": "192.168.1.100",
      "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64)"
    },
    {
      "timestamp": "2025-11-04T10:16:45.456Z",
      "level": "warn",
      "service": "database",
      "message": "Slow query detected",
      "query": "SELECT * FROM users WHERE created > DATE_SUB(NOW(), INTERVAL 30 DAY)",
      "duration": 1250,
      "threshold": 1000,
      "database": "primary",
      "rowsAffected": 5678
    },
    {
      "timestamp": "2025-11-04T10:17:00.789Z",
      "level": "error",
      "service": "payment-processor",
      "message": "Payment processing failed",
      "errorCode": "CARD_DECLINED",
      "errorDetails": "Insufficient funds",
      "orderId": "ord_789xyz123",
      "amount": 99.99,
      "currency": "USD",
      "customerId": "cust_456",
      "retryable": true,
      "attemptNumber": 1
    },
    {
      "timestamp": "2025-11-04T10:18:15.234Z",
      "level": "info",
      "service": "cache",
      "message": "Cache miss - fetching from database",
      "key": "user:profile:123456",
      "ttl": 3600,
      "fallback": "database-query",
      "queryTime": 23
    },
    {
      "timestamp": "2025-11-04T10:19:30.567Z",
      "level": "info",
      "service": "authentication",
      "message": "User login successful",
      "userId": "user_789",
      "username": "alice_smith",
      "loginMethod": "oauth2",
      "provider": "google",
      "ipAddress": "203.0.113.42",
      "country": "US",
      "city": "San Francisco",
      "twoFactorUsed": true
    }
  ]
}`,
                        nested: `{
  "organization": {
    "name": "TechCorp International",
    "founded": 2015,
    "headquarters": {
      "country": "USA",
      "address": {
        "street": "123 Tech Boulevard",
        "suite": "Suite 500",
        "city": "San Francisco",
        "state": "California",
        "zipCode": "94105",
        "coordinates": {
          "latitude": 37.7749,
          "longitude": -122.4194,
          "accuracy": "high"
        }
      },
      "contact": {
        "phone": "+1-415-555-0100",
        "fax": "+1-415-555-0101",
        "email": "info@techcorp.com",
        "support": {
          "email": "support@techcorp.com",
          "phone": "+1-415-555-0200",
          "hours": "24/7"
        }
      }
    },
    "departments": [
      {
        "id": "dept_engineering",
        "name": "Engineering",
        "headCount": 150,
        "budget": 15000000,
        "manager": {
          "employeeId": "E001",
          "name": "Alice Johnson",
          "title": "VP of Engineering",
          "contact": {
            "email": "alice.j@techcorp.com",
            "phone": "+1-415-555-1001"
          }
        },
        "teams": [
          {
            "name": "Backend Infrastructure",
            "size": 25,
            "technologies": ["Node.js", "Python", "Go", "PostgreSQL", "Redis"],
            "projects": ["API Gateway", "Microservices", "Data Pipeline"]
          },
          {
            "name": "Frontend Platform",
            "size": 20,
            "technologies": ["React", "TypeScript", "Next.js", "Tailwind CSS"],
            "projects": ["Web App", "Mobile Web", "Component Library"]
          }
        ]
      }
    ]
  }
}`,
                        analytics: `{
  "analytics": {
    "reportId": "analytics_2025_10",
    "period": "October 2025",
    "generated": "2025-11-04T00:00:00Z",
    "summary": {
      "totalUsers": 45678,
      "activeUsers": 23456,
      "newUsers": 1234,
      "returningUsers": 22222,
      "churnRate": 3.2,
      "growthRate": 5.4
    },
    "engagement": {
      "pageViews": 567890,
      "uniquePageViews": 234567,
      "sessions": 123456,
      "avgSessionDuration": 180,
      "bounceRate": 42.5,
      "pagesPerSession": 3.8
    },
    "conversions": {
      "totalConversions": 3456,
      "conversionRate": 2.8,
      "goalCompletions": {
        "signup": 2345,
        "purchase": 890,
        "subscription": 221
      },
      "revenue": {
        "total": 234567.89,
        "subscriptions": 189234.50,
        "oneTimePurchases": 45333.39
      }
    },
    "topPages": [
      {
        "path": "/dashboard",
        "title": "Dashboard",
        "views": 45678,
        "uniqueViews": 23456,
        "avgTimeOnPage": 120,
        "bounceRate": 35.2
      },
      {
        "path": "/products",
        "title": "Products",
        "views": 34567,
        "uniqueViews": 18934,
        "avgTimeOnPage": 90,
        "bounceRate": 45.8
      },
      {
        "path": "/pricing",
        "title": "Pricing",
        "views": 23456,
        "uniqueViews": 15678,
        "avgTimeOnPage": 60,
        "bounceRate": 38.5
      }
    ],
    "demographics": {
      "byCountry": [
        { "country": "United States", "users": 15678, "percentage": 34.3, "revenue": 123456.78 },
        { "country": "United Kingdom", "users": 8934, "percentage": 19.6, "revenue": 67890.12 },
        { "country": "Germany", "users": 6789, "percentage": 14.9, "revenue": 45678.90 },
        { "country": "France", "users": 5432, "percentage": 11.9, "revenue": 34567.89 },
        { "country": "Canada", "users": 4321, "percentage": 9.5, "revenue": 28901.23 },
        { "country": "Other", "users": 4524, "percentage": 9.8, "revenue": 34072.97 }
      ]
    }
  }
}`,
                        timeseries: `{
  "sensor": {
    "id": "sensor_temp_01",
    "name": "Temperature Sensor - Server Room A",
    "location": "Building 1, Floor 3, Room A",
    "type": "environmental",
    "units": {
      "temperature": "celsius",
      "humidity": "percent",
      "pressure": "hPa"
    }
  },
  "measurements": [
    { "t": 1699123200, "temp": 22.5, "hum": 45, "press": 1013.25, "status": "normal" },
    { "t": 1699123260, "temp": 22.7, "hum": 46, "press": 1013.20, "status": "normal" },
    { "t": 1699123320, "temp": 22.6, "hum": 45, "press": 1013.22, "status": "normal" },
    { "t": 1699123380, "temp": 23.1, "hum": 47, "press": 1013.18, "status": "normal" },
    { "t": 1699123440, "temp": 23.3, "hum": 48, "press": 1013.15, "status": "normal" },
    { "t": 1699123500, "temp": 23.5, "hum": 49, "press": 1013.12, "status": "normal" },
    { "t": 1699123560, "temp": 23.8, "hum": 50, "press": 1013.10, "status": "warning" },
    { "t": 1699123620, "temp": 24.0, "hum": 51, "press": 1013.08, "status": "warning" },
    { "t": 1699123680, "temp": 24.2, "hum": 52, "press": 1013.05, "status": "warning" },
    { "t": 1699123740, "temp": 24.5, "hum": 53, "press": 1013.02, "status": "alert" }
  ],
  "statistics": {
    "avgTemperature": 23.42,
    "maxTemperature": 24.5,
    "minTemperature": 22.5,
    "avgHumidity": 48.6,
    "dataPoints": 10
  },
  "alerts": [
    {
      "timestamp": 1699123740,
      "severity": "warning",
      "type": "temperature_high",
      "message": "Temperature above safe threshold",
      "value": 24.5,
      "threshold": 24.0,
      "action": "notification_sent"
    }
  ]
}`,
                        catalog: `{
  "productCatalog": {
    "version": "3.2",
    "lastUpdated": "2025-11-04T00:00:00Z",
    "totalProducts": 3,
    "categories": [
      {
        "id": "cat_electronics",
        "name": "Electronics",
        "slug": "electronics",
        "description": "Electronic devices, computers, and gadgets",
        "parentCategory": null,
        "displayOrder": 1,
        "active": true,
        "seoMetadata": {
          "title": "Electronics - Best Deals on Tech",
          "description": "Shop the latest electronics",
          "keywords": ["electronics", "computers", "gadgets"]
        },
        "products": [
          {
            "productId": "prod_laptop_premium_001",
            "sku": "LAPTOP-PREM-15-BLK",
            "name": "Premium Laptop 15 inch Professional Edition",
            "shortDescription": "High-performance laptop for professionals",
            "longDescription": "This premium laptop combines power and portability with cutting-edge specifications designed for demanding professional workflows...",
            "brand": "TechBrand International",
            "manufacturer": "TechManufacturing Co.",
            "price": {
              "amount": 1499.99,
              "currency": "USD",
              "compareAtPrice": 1799.99,
              "onSale": true,
              "discountPercentage": 17,
              "taxIncluded": false
            },
            "inventory": {
              "inStock": true,
              "quantity": 25,
              "warehouse": "US-WEST-1",
              "reservedQuantity": 5,
              "availableQuantity": 20,
              "lowStockThreshold": 10,
              "reorderPoint": 15
            },
            "specifications": {
              "processor": {
                "brand": "Intel",
                "model": "Core i7 11th Generation",
                "cores": 8,
                "threads": 16,
                "baseSpeed": "2.8 GHz",
                "boostSpeed": "4.7 GHz"
              },
              "memory": {
                "size": "16GB",
                "type": "DDR4",
                "speed": "3200 MHz",
                "slots": 2,
                "maxSupported": "32GB"
              },
              "storage": {
                "type": "SSD",
                "technology": "NVMe PCIe 4.0",
                "capacity": "512GB",
                "expandable": true,
                "additionalSlots": 1
              },
              "display": {
                "size": "15.6 inches",
                "resolution": "1920x1080",
                "panelType": "IPS",
                "refreshRate": "60 Hz",
                "brightness": "300 nits",
                "touchscreen": false
              },
              "graphics": {
                "type": "Integrated",
                "model": "Intel Iris Xe Graphics",
                "dedicatedMemory": "Shared"
              },
              "connectivity": {
                "wifi": "Wi-Fi 6 (802.11ax)",
                "bluetooth": "5.2",
                "ethernet": "Gigabit",
                "ports": ["2x USB-C Thunderbolt 4", "2x USB-A 3.2", "HDMI 2.0", "Audio Jack", "SD Card Reader"]
              },
              "battery": {
                "capacity": "75 Wh",
                "estimatedLife": "Up to 12 hours",
                "chargingTime": "90 minutes to 80%",
                "fastCharging": true
              },
              "physical": {
                "weight": "1.8 kg",
                "dimensions": {
                  "width": "35.8 cm",
                  "depth": "24.5 cm",
                  "height": "1.8 cm"
                },
                "material": "Aluminum unibody",
                "color": "Space Gray"
              },
              "operating System": {
                "name": "Windows 11 Pro",
                "version": "22H2",
                "license": "OEM"
              }
            },
            "media": {
              "images": [
                { "url": "laptop_front.jpg", "alt": "Front view", "order": 1 },
                { "url": "laptop_side.jpg", "alt": "Side view", "order": 2 },
                { "url": "laptop_open.jpg", "alt": "Open view", "order": 3 },
                { "url": "laptop_ports.jpg", "alt": "Ports detail", "order": 4 }
              ],
              "videos": [
                { "url": "laptop_review.mp4", "type": "review", "duration": 180 }
              ]
            },
            "reviews": {
              "averageRating": 4.8,
              "totalReviews": 342,
              "distribution": {
                "5star": 280,
                "4star": 45,
                "3star": 12,
                "2star": 3,
                "1star": 2
              },
              "verifiedPurchases": 298
            },
            "tags": ["bestseller", "premium", "business", "portable", "powerful"],
            "relatedProducts": ["prod_laptop_bag_001", "prod_mouse_wireless_001", "prod_laptop_stand_001"],
            "warrantyInfo": {
              "duration": "2 years",
              "type": "manufacturer",
              "extendedAvailable": true,
              "extendedPrice": 199.99
            }
          }
        ]
      }
    ]
  }
}`,
                        social: `{
  "socialFeed": {
    "feedType": "timeline",
    "userId": "user_main_123",
    "fetchedAt": "2025-11-04T10:00:00Z",
    "hasMore": true,
    "nextCursor": "cursor_abc123xyz",
    "posts": [
      {
        "postId": "post_67890",
        "type": "original",
        "author": {
          "userId": "user_456",
          "username": "tech_enthusiast_2025",
          "displayName": "Tech Enthusiast",
          "profileImage": "https://cdn.example.com/avatars/user_456.jpg",
          "verified": true,
          "followerCount": 12345,
          "followingCount": 892,
          "bio": "Technology enthusiast | Developer | Open Source contributor"
        },
        "content": {
          "text": "Just discovered TONL - an amazing token-optimized format for LLM applications! 38% smaller than JSON. Perfect for reducing API costs. Check it out! #TONL #LLM #AI #CostOptimization",
          "language": "en",
          "hashtags": ["TONL", "LLM", "AI", "CostOptimization"],
          "mentions": ["@tonl_official"],
          "urls": ["https://tonl.dev", "https://github.com/ersinkoc/tonl"]
        },
        "media": [],
        "timestamp": "2025-11-04T09:30:00Z",
        "metrics": {
          "views": 5678,
          "likes": 234,
          "retweets": 45,
          "replies": 12,
          "bookmarks": 67,
          "shares": 23,
          "engagementRate": 6.7
        },
        "visibility": "public",
        "allowReplies": true,
        "isPinned": false
      },
      {
        "postId": "post_67891",
        "type": "retweet",
        "originalAuthor": {
          "userId": "user_101",
          "username": "data_science_pro",
          "displayName": "Data Science Professional",
          "verified": true
        },
        "retweetedBy": {
          "userId": "user_202",
          "username": "ml_researcher",
          "displayName": "ML Researcher"
        },
        "content": {
          "text": "Working with massive datasets? TONL's streaming API processes multi-GB files with constant memory usage. Game changer for data pipelines! üöÄ",
          "hashtags": ["DataScience", "BigData", "TONL", "Streaming"]
        },
        "timestamp": "2025-11-04T08:45:00Z",
        "metrics": {
          "views": 2345,
          "likes": 89,
          "retweets": 12,
          "replies": 5
        }
      }
    ]
  }
}`,
                        large: `{
  "companyDatabase": {
    "organizationInfo": {
      "companyName": "GlobalTech Solutions International Inc.",
      "registrationNumber": "REG-2015-US-12345",
      "taxId": "TAX-US-67890",
      "founded": "2015-03-15",
      "legalEntity": "C-Corporation",
      "headquarters": {
        "country": "United States",
        "city": "San Francisco",
        "fullAddress": "123 Technology Boulevard, Suite 500, San Francisco, CA 94105, USA"
      }
    },
    "employees": [
      {
        "employeeId": "EMP-0001",
        "personalInfo": {
          "firstName": "Alice",
          "middleName": "Marie",
          "lastName": "Anderson",
          "dateOfBirth": "1990-05-15",
          "nationality": "American",
          "ssn": "***-**-1234"
        },
        "contactInfo": {
          "email": "alice.anderson@globaltech.com",
          "personalEmail": "alice.m.anderson@gmail.com",
          "phone": {
            "work": "+1-415-555-1001",
            "mobile": "+1-415-555-2001",
            "emergency": "+1-415-555-3001"
          },
          "address": {
            "street": "456 Residential Street",
            "apt": "Apt 12B",
            "city": "San Francisco",
            "state": "CA",
            "zipCode": "94110",
            "country": "USA"
          }
        },
        "employment": {
          "department": "Engineering",
          "position": "Senior Software Engineer",
          "level": "L6",
          "employmentType": "Full-time",
          "hireDate": "2018-03-15",
          "startDate": "2018-04-01",
          "probationEndDate": "2018-07-01",
          "location": "San Francisco Office",
          "remote": false,
          "managerId": "EMP-M001"
        },
        "compensation": {
          "baseSalary": 145000,
          "currency": "USD",
          "paySchedule": "bi-weekly",
          "bonusEligible": true,
          "targetBonus": 20,
          "stockOptions": {
            "granted": 10000,
            "vested": 6250,
            "vestingSchedule": "4-year with 1-year cliff"
          },
          "benefits": {
            "healthInsurance": "Premium PPO",
            "dentalInsurance": "Full coverage",
            "visionInsurance": "Basic",
            "retirement401k": {
              "contribution": 6,
              "employerMatch": 4,
              "vestingSchedule": "immediate"
            },
            "paidTimeOff": {
              "vacation": 20,
              "sick": 10,
              "personal": 5
            }
          }
        },
        "skills": ["JavaScript", "TypeScript", "React", "Node.js", "PostgreSQL", "AWS", "Docker", "Kubernetes", "Python"],
        "certifications": [
          {
            "name": "AWS Solutions Architect Professional",
            "issuer": "Amazon Web Services",
            "issueDate": "2023-06-15",
            "expiryDate": "2026-06-15",
            "credentialId": "AWS-CERT-12345"
          },
          {
            "name": "Kubernetes Administrator (CKA)",
            "issuer": "Cloud Native Computing Foundation",
            "issueDate": "2024-01-20",
            "expiryDate": "2027-01-20",
            "credentialId": "CKA-CERT-67890"
          }
        ],
        "projects": [
          {
            "projectId": "PROJ-ALPHA",
            "role": "Technical Lead",
            "startDate": "2024-01-15",
            "endDate": null,
            "status": "active",
            "allocation": 100
          },
          {
            "projectId": "PROJ-BETA",
            "role": "Senior Developer",
            "startDate": "2023-06-01",
            "endDate": "2024-01-10",
            "status": "completed",
            "allocation": 50
          }
        ],
        "performance": {
          "currentRating": 4.8,
          "lastReviewDate": "2025-10-01",
          "nextReviewDate": "2026-04-01",
          "goals": [
            {
              "goalId": "GOAL-001",
              "description": "Lead Project Alpha to successful completion",
              "dueDate": "2025-12-31",
              "status": "on-track",
              "progress": 75
            },
            {
              "goalId": "GOAL-002",
              "description": "Mentor 3 junior engineers",
              "dueDate": "2025-12-31",
              "status": "ahead",
              "progress": 90
            }
          ],
          "achievements": [
            "Shipped critical feature 2 weeks ahead of schedule",
            "Reduced API response time by 40%",
            "Mentored 5 engineers successfully"
          ]
        },
        "directReports": ["EMP-0015", "EMP-0023", "EMP-0034"],
        "reportsTo": "EMP-M001"
      },
      {
        "employeeId": "EMP-0002",
        "personalInfo": {
          "firstName": "Bob",
          "middleName": "James",
          "lastName": "Brown",
          "dateOfBirth": "1988-09-22",
          "nationality": "American"
        },
        "contactInfo": {
          "email": "bob.brown@globaltech.com",
          "phone": {
            "work": "+1-206-555-1002",
            "mobile": "+1-206-555-2002"
          }
        },
        "employment": {
          "department": "Engineering",
          "position": "Staff Software Engineer",
          "level": "L7",
          "employmentType": "Full-time",
          "hireDate": "2016-01-10",
          "location": "Seattle Office"
        },
        "compensation": {
          "baseSalary": 175000,
          "currency": "USD"
        },
        "skills": ["Python", "Go", "Rust", "Kubernetes", "PostgreSQL", "Redis", "Kafka", "System Design"],
        "performance": {
          "currentRating": 4.9,
          "lastReviewDate": "2025-09-15"
        },
        "directReports": ["EMP-0012", "EMP-0019"]
      },
      {
        "employeeId": "EMP-0003",
        "personalInfo": {
          "firstName": "Carol",
          "lastName": "Chen",
          "dateOfBirth": "1992-12-08",
          "nationality": "American"
        },
        "contactInfo": {
          "email": "carol.chen@globaltech.com",
          "phone": {
            "work": "+1-212-555-1003",
            "mobile": "+1-212-555-2003"
          }
        },
        "employment": {
          "department": "Product Management",
          "position": "Senior Product Manager",
          "level": "L5",
          "employmentType": "Full-time",
          "hireDate": "2019-07-20",
          "location": "New York Office"
        },
        "compensation": {
          "baseSalary": 135000,
          "currency": "USD"
        },
        "skills": ["Product Strategy", "User Research", "Analytics", "Roadmapping", "Agile", "Stakeholder Management"],
        "performance": {
          "currentRating": 4.7,
          "lastReviewDate": "2025-10-10"
        },
        "directReports": []
      }
    ]
  }
}`
                    };

                    this.jsonInput = examples[type];
                    this.jsonToTONL();
                }
            }
        }
    </script>

</body>
</html>
